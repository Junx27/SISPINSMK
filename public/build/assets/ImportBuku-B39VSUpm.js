import{r as o,j as e}from"./app-DP6y9lV8.js";import{P as x}from"./PopOver-CNBi6pq-.js";import{u as p}from"./index-DiJrv92p.js";import"./index-CRFGn4rt.js";function N({auth:r}){const[n,i]=o.useState(!1),l=r.user.role;o.useEffect(()=>{l==="anggota"&&(window.location.href="/daftar-buku")});const{data:h,setData:d,post:c}=p({file:null}),u=t=>{d("file",t.target.files[0])},m=t=>{t.preventDefault(),i(!0),c("/import",{forceFormData:!0,onSuccess:()=>{console.log("File uploaded successfully")},onError:()=>{console.log("File upload failed")}})},f=(t,a,s)=>{t="/CSV.xlsx",a="Format Buku",s=document.createElement("a"),s.href=t,s.download=a,document.body.appendChild(s),s.click(),document.body.removeChild(s)};return e.jsxs("div",{children:[n&&e.jsx(x,{children:e.jsxs("div",{className:"-mt-32 bg-white p-5 rounded-lg",children:[e.jsx("h1",{className:"font-bold text-center mb-3 text-2xl",children:"Data sudah dimasukan"}),e.jsx("p",{className:"text-xs text-center mb-5",children:"Pastikan format yang dimasukan benar, sesuai format petunjuk"}),e.jsx("a",{href:"/admin/buku",children:e.jsx("div",{className:"flex justify-center text-xs",children:e.jsx("button",{className:"bg-black p-2 rounded-md text-white",children:"Lihat buku"})})})]})}),l==="admin"&&e.jsxs("div",{className:"w-full h-screen",children:[e.jsx("img",{src:"/footer.jpg",alt:"",className:"w-full h-screen object-cover"}),e.jsx("div",{className:"inset-0 absolute left-0 p-5 bg-opacity-10 bg-white/75",children:e.jsxs("form",{onSubmit:m,className:"bg-white p-5 rounded-lg flex flex-col w-64 text-xs mx-auto mt-32",children:[e.jsx("div",{className:"flex justify-end",children:e.jsx("a",{href:"/admin/buku",children:e.jsx("img",{src:"/close.png",alt:"",className:"w-4 h-4 mb-5 cursor-pointer"})})}),e.jsx("input",{type:"file",name:"file",id:"file",className:`block w-full text-sm text-gray-500
                                   file:mr-4 file:py-2 file:px-4
                                   file:rounded-full file:border-0
                                   file:text-sm file:font-semibold
                                   file:bg-blue-50 file:text-blue-700
                                   hover:file:bg-blue-100`,onChange:u,required:!0}),e.jsx("button",{type:"submit",className:"bg-blue-500 p-2 rounded-md text-white mt-5",children:"Upload"}),e.jsx("p",{className:"text-blue-500 mt-3 text-end",onClick:f,children:"Download format buku?"})]})})]})]})}export{N as default};
