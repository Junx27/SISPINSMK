import{r as m,j as e,Y as p}from"./app-CfL7hliQ.js";import{B as b}from"./Button-BMlf9uxg.js";import{P as j}from"./PopOver-B8NNJgjJ.js";import{u as h}from"./Url-Bx3CnFKe.js";import{u as g}from"./index-Bhk56uz1.js";import"./index-BEtTa2Fv.js";function q({buku:s,auth:n}){const[d,r]=m.useState(!1),i=new Date,[u,f]=m.useState(()=>{const t=new Date(i);return t.setDate(t.getDate()+7),t}),{data:a,setData:N,post:o,put:c}=g({nama_peminjam:n.user.nama,kontak_peminjam:n.user.email,nama_buku:s.caption,tanggal_pinjam:i.toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}),tanggal_pengembalian:u.toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}),status_peminjaman:"meminjam",user_id:n.user.id,buku_id:s.id}),l=()=>{r(!0)},x=t=>{t.preventDefault(),o("/buat-pinjaman-buku"),c(`/admin/buku-stok-pinjam/${s.id}`),r(!1),window.location.href="/daftar-buku"};return e.jsxs("div",{className:"w-full h-screen",children:[e.jsx(p,{title:"Konfirmasi Peminjaman"}),e.jsx("img",{src:"/footer.jpg",alt:"",className:"w-full h-screen object-cover"}),d&&e.jsx(j,{children:e.jsxs("div",{className:"bg-white p-5 rounded-md w-64 h-32",children:[e.jsx("p",{className:"text-center text-xs",children:"Berhasil meminjam buku"}),e.jsx("div",{className:"flex justify-center mt-5 cursor-pointer",onClick:x,children:e.jsx("button",{className:"bg-blue-500 text-white rounded-md w-32 p-2",children:"ok"})})]})}),e.jsxs("div",{className:"inset-0 absolute left-0 p-5 md:p-10 bg-opacity-10 bg-white/75",children:[e.jsxs("div",{className:"bg-white p-5 rounded-lg mx-auto w-full md:w-[800px]",children:[e.jsx("div",{className:"flex justify-end",children:e.jsx("a",{href:"/daftar-buku",children:e.jsx("img",{src:"/close.png",alt:"",className:"w-4 h-4"})})}),e.jsxs("div",{className:"hidden md:flex mt-5 mx-5 text-xs justify-between",children:[e.jsx("div",{children:e.jsx(b,{name:"Detail buku"})}),e.jsx("div",{className:"cursor-pointer",onClick:l,children:e.jsx("button",{className:"p-2 bg-blue-500 hover:bg-blue-400 text-white rounded-md",children:"Pinjam sekarang"})})]}),e.jsxs("div",{className:"mt-5 px-0 md:px-5 flex flex-col md:flex-row gap-5 md:gap-10 w-full",children:[e.jsx("div",{className:"w-full h-32 md:w-[350px] md:h-[500px]",children:e.jsx("img",{src:s.imageUrl==="null"|s.imageUrl===null?"/default-book.jpg":h+s.imageUrl,alt:"",className:"w-full h-full object-cover brightness-95 rounded-lg"})}),e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"flex gap-5 items-center",children:[e.jsx("h1",{className:"font-bold capitalize mt-3 truncate",children:s.caption}),e.jsx("div",{className:"block md:hidden cursor-pointer",onClick:l,children:e.jsx("button",{className:"p-2 text-xs bg-blue-500 hover:bg-blue-400 text-white rounded-md",children:"Pinjam sekarang"})})]}),e.jsxs("div",{className:"mt-5 text-xs",children:[e.jsxs("div",{className:"my-3",children:[e.jsx("h1",{className:"font-bold",children:"Edisi"}),e.jsx("p",{className:"mt-3 w-full md:w-96 bg-blue-50 p-2 rounded-md",children:s.edisi})]}),e.jsxs("div",{className:"my-3",children:[e.jsx("h1",{className:"font-bold",children:"Kategori"}),e.jsx("p",{className:"mt-3 w-full md:w-96 bg-blue-50 p-2 rounded-md",children:s.kategori})]}),e.jsxs("div",{className:"my-3",children:[e.jsx("h1",{className:"font-bold",children:"Tahun"}),e.jsx("p",{className:"mt-3 w-full md:w-96 bg-blue-50 p-2 rounded-md",children:s.tahun})]}),e.jsxs("div",{className:"my-3",children:[e.jsx("h1",{className:"font-bold",children:"Stok"}),e.jsx("p",{className:"mt-3 w-full md:w-96 bg-blue-50 p-2 rounded-md",children:s.stok})]}),e.jsxs("div",{className:"my-3",children:[e.jsx("h1",{className:"font-bold",children:"Deskripsi"}),e.jsx("p",{className:"mt-3 w-full md:w-96 h-32 bg-blue-50 p-2 rounded-md overflow-auto",children:s.desc})]})]})]})]}),e.jsx("div",{className:"ml-5 text-xs text-blue-500 mt-3",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("p",{children:"Tata cara meminjam buku"}),e.jsx("p",{children:"Tata cara pengembalian buku"})]})})]}),e.jsxs("div",{className:"bg-white hidden w-96 p-5 rounded-lg",children:[e.jsx("div",{className:"flex justify-end cursor-pointer",children:e.jsx("img",{src:"/close.png",alt:"",className:"w-4 h-4"})}),e.jsx("div",{children:e.jsxs("form",{onSubmit:l,className:"mt-5 flex flex-col gap-5",children:[e.jsx("input",{type:"text",name:"nama_peminjam",className:"text-xs bg-blue-50 hover:bg-blue-100 cursor-pointer rounded-sm outline-none border-0",value:a.nama_peminjam,required:!0}),e.jsx("input",{type:"text",name:"kontak_peminjam",className:"text-xs bg-blue-50 hover:bg-blue-100 cursor-pointer rounded-sm outline-none border-0",value:a.kontak_peminjam,required:!0}),e.jsx("input",{type:"text",name:"nama_buku",className:"text-xs bg-blue-50 hover:bg-blue-100 cursor-pointer rounded-sm outline-none border-0",value:a.nama_buku,required:!0}),e.jsx("input",{type:"text",name:"tanggal_pinjam",className:"text-xs bg-blue-50 hover:bg-blue-100 cursor-pointer rounded-sm outline-none border-0",value:a.tanggal_pinjam,required:!0}),e.jsx("input",{type:"text",name:"tanggal_pengembalian",className:"text-xs bg-blue-50 hover:bg-blue-100 cursor-pointer rounded-sm outline-none border-0",value:a.tanggal_pengembalian,required:!0}),e.jsx("input",{type:"text",name:"status_peminjaman",className:"text-xs bg-blue-50 hover:bg-blue-100 cursor-pointer rounded-sm outline-none border-0",value:a.status_peminjaman,required:!0}),e.jsx("input",{type:"number",name:"buku_id",className:"text-xs bg-blue-50 hover:bg-blue-100 cursor-pointer rounded-sm outline-none border-0",value:a.buku_id,required:!0}),e.jsx("input",{type:"number",name:"user_id",className:"text-xs bg-blue-50 hover:bg-blue-100 cursor-pointer rounded-sm outline-none border-0",value:a.user_id,required:!0}),e.jsx("button",{type:"submit",className:"bg-blue-500 text-white mt-5 rounded-md text-xs p-2",children:"Konfirmasi"})]})})]})]})]})}export{q as default};
