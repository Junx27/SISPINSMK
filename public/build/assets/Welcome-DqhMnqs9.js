import{r,j as e,Y as z}from"./app-CMY_fCVd.js";import{B as f}from"./Buku-8tCPAf_h.js";import{u as v}from"./Url-CW4JorIc.js";import{P as y}from"./PopOver-DyZQahWQ.js";import S from"./Login-CozlJqFi.js";import U from"./Register-B7mPq3un.js";import"./TextInput-DPY_OYEQ.js";import"./InputLabel-PhMHHBQw.js";import"./PrimaryButton-DZjrgcmm.js";function D({data:d}){var j;const l=(d||[]).map((t,a)=>({id:a+1,imageUrl:t.imageUrl||"",caption:t.caption||"No Caption",kategori:t.kategori||"Unknown Category",penerbit:t.penerbit||"Unknown Publisher",tahun:t.tahun||"Unknown Year",edisi:t.edisi||"Unknown Edition",desc:t.desc||"No Description"})),[i,o]=r.useState(((j=l[0])==null?void 0:j.id)||1),[h,n]=r.useState(!0),[p,c]=r.useState("#179BAE"),u=r.useRef(null);r.useEffect(()=>{const t=()=>{const a=new Image;a.crossOrigin="Anonymous",a.src=l[i-1].imageUrl?v+l[i-1].imageUrl:"",a.onload=()=>{const m=u.current,x=m.getContext("2d");m.width=a.width,m.height=a.height,x.drawImage(a,0,0);const N=x.getImageData(0,0,m.width,m.height).data;g(N)},a.onerror=()=>{c("#179BAE"),n(!1)}};l.length>0&&l[i-1].imageUrl?t():(c("#179BAE"),n(!1))},[i,l]);const g=t=>{const a={};for(let x=0;x<t.length;x+=4){const[b,N,C]=t.slice(x,x+3),k=s(b,N,C);a[k]=(a[k]||0)+1}const m=Object.keys(a).sort((x,b)=>a[b]-a[x]);c(m[0]||"#179BAE"),n(!1)},s=(t,a,m)=>"#"+((1<<24)+(t<<16)+(a<<8)+m).toString(16).slice(1);return r.useEffect(()=>{const t=setTimeout(()=>{o(a=>a===l.length?1:a+1),n(!0)},3e3);return()=>clearTimeout(t)},[i,l.length]),e.jsxs("div",{children:[e.jsx("canvas",{ref:u,style:{display:"none"}}),l.map(t=>e.jsx("div",{style:{display:t.id===i?"block":"none"},children:e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:t.imageUrl==="null"|t.imageUrl===null?"/default-book.jpg":v+t.imageUrl,alt:"",className:`transition-all duration-1000 w-full h-screen object-cover ${h?"opacity-0":"opacity-1"}`}),e.jsxs("div",{className:"absolute z-30 bottom-72 left-5 md:left-20",children:[e.jsx("h1",{className:"font-black text-white text-xl md:text-3xl uppercase w-[500px] truncate",children:t.caption}),e.jsxs("div",{className:"mt-10 flex flex-row gap-5",children:[e.jsx("p",{className:"text-xs text-white backdrop-opacity-10 bg-white/20 p-2 rounded-lg",children:t.kategori}),e.jsxs("p",{className:"text-xs text-white backdrop-opacity-10 bg-white/20 p-2 rounded-lg",children:[t.penerbit," | ",t.tahun]}),e.jsx("p",{className:"text-xs text-white backdrop-opacity-10 bg-white/20 p-2 rounded-lg",children:t.edisi})]}),e.jsx("div",{className:"mt-5 w-[300px] md:w-[500px] h-20",children:e.jsx("p",{className:"text-xs text-white line-clamp-5",children:t.desc})})]}),e.jsx("div",{className:"absolute z-20 -bottom-1 inset-0 bg-gradient-to-t from-white from-10% via-white/50 via-30% to-transparent to-90% w-full h-full"}),e.jsx("div",{className:"absolute inset-0 w-full h-full",style:{background:`linear-gradient(90deg, ${p} 25%, rgba(255,143,167,0.03))`}})]})},t.id)),e.jsx("div",{className:"absolute bottom-64 left-5 md:left-20",children:e.jsx("div",{className:"flex justify-center gap-1 mt-10",children:l.map(t=>e.jsx("div",{className:`relative overflow-hidden transition-all duration-1000 h-[5px] rounded-full ${t.id===i?"bg-white/30 w-10":"bg-white w-[5px]"}`,onClick:()=>o(t.id),children:e.jsx("div",{className:`transition-all duration-[4000ms] h-2 rounded-full ${t.id===i?"w-full":"w-0"}`,children:e.jsx("div",{className:"inset-0 bg-white h-2",style:{width:`${t.id===i?"100%":"0%"}`,transition:"width 1s ease-in-out"}})})},t.id))})})]})}function w({data:d}){const[l,i]=r.useState(!1),[o,h]=r.useState(d.length),[n,p]=r.useState(null),c=s=>{p(s)},u=()=>{i(!0),h(d.length+1)},g=()=>{i(!1),h(o-1)};return e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`transition-all duration-700 ${l?"-ml-[800px] md:-ml-[1220px]":"ml-2 md:ml-[70px]"}`,children:e.jsx("div",{className:"flex flex-row gap-5 px-[10px] pt-10 h-[355px] overflow-x-auto overflow-y-hidden md:overflow-hidden",children:d.map((s,j)=>e.jsx("div",{className:`cursor-pointer relative rounded-md hover:scale-y-[112%] hover:scale-x-[110%] hover:-mt-3 ${n===s.id?"group":""}`,onMouseOver:()=>c(s.id),onMouseLeave:()=>p(null),children:e.jsxs("div",{className:"w-[160px] md:w-[196px] h-[240px]",children:[e.jsx("img",{src:s.imageUrl==="null"|s.imageUrl===null?"/default-book.jpg":v+s.imageUrl,alt:"",className:"transition-all duration-100 w-full h-[240px] object-cover rounded-md group-hover:h-[300px] group-hover:scale-115"}),e.jsx("div",{className:`absolute inset-0 bg-gradient-to-t w-full h-[300px] rounded-md from-black to-transparent ${n===s.id?"block":"hidden"}`}),e.jsx("p",{className:"text-[13px] group-hover:hidden mt-2 z-50 font-bold w-full h-[40px] line-clamp-2 capitalize",children:s.caption}),e.jsxs("div",{className:`absolute bottom-10 left-2 ${n===s.id?"block":"hidden"}`,children:[e.jsx("p",{className:"text-[13px] text-white font-bold w-full h-[40px] line-clamp-2",children:s.tahun}),e.jsx("p",{className:"-mt-5 text-[13px] text-white font-bold w-full h-[40px] line-clamp-2 capitalize",children:s.caption}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("p",{className:"mt-5 text-white text-[10px] w-[60px] md:w-20 text-center backdrop-opacity-10 bg-white/10 p-2 rounded-lg truncate",children:s.kategori}),e.jsx("p",{className:"mt-5 text-white text-[10px] w-[60px] md:w-20 text-center backdrop-opacity-10 bg-white/10 p-2 rounded-lg truncate",children:s.edisi})]})]})]})},j))})}),e.jsxs("div",{children:[o>d.length&&e.jsx("button",{className:"hidden md:block absolute z-30 top-10 hover:bg-gradient-to-r from-black to-transparent text-white text-2xl h-[240px] w-[50px] rounded-r-md font-bold p-2",onClick:g,children:e.jsx("img",{src:"/arrowwhite.png",alt:"",className:"-rotate-90"})}),o===d.length&&e.jsx("button",{className:"hidden md:block absolute z-30 top-10 right-0 hover:bg-gradient-to-l from-black to-transparent text-white text-2xl h-[240px] w-[50px] rounded-l-md font-bold p-2",onClick:u,children:e.jsx("img",{src:"/arrowwhite.png",alt:"",className:"rotate-90"})})]})]})}function E({data:d,bukuBanyakDipijnam:l,karyaIlmiah:i,karyaNonIlmiah:o,ekonomi:h,karyaIlmiahSlider:n,karyaNonIlmiahSlider:p,ekonomiSlider:c,slider:u}){const[g,s]=r.useState(!1),[j,t]=r.useState(!1);return e.jsxs("div",{className:"overflow-hidden",children:[e.jsxs("div",{className:"absolute z-50 py-2 w-full",children:[g&&e.jsx(y,{children:e.jsx(S,{handleClose:()=>s(!1)})}),j&&e.jsx(y,{children:e.jsx(U,{handleClose:()=>t(!1)})}),e.jsxs("div",{className:"flex px-5 py-2 md:py-0 md:px-10 justify-between items-center",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{src:"logo.png",alt:"",className:"w-[40px] h-[40px] md:w-[50px] md:h-[50px]"}),e.jsx("h1",{className:"font-bold text-white text-sm md:text-xl uppercase ml-2",children:"sispinsmk"})]}),e.jsxs("div",{className:"hidden md:block ",children:[e.jsx("input",{type:"text",className:"w-[600px] text-xs rounded-lg outline-0 border-0",placeholder:"cari buku..."}),e.jsx("button",{className:"ml-5 text-white w-20 text-xs py-2 rounded-lg text-center bg-blue-500",onClick:()=>s(!0),children:"cari"})]}),e.jsxs("div",{className:"hidden md:flex flex-row gap-10 items-center",children:[e.jsx("img",{src:"/cs.png",alt:"",className:"w-10 h-10",onClick:()=>s(!0)}),e.jsx("img",{src:"/bookmark.png",alt:"",className:"w-8 h-8",onClick:()=>s(!0)})]}),e.jsxs("div",{className:"flex gap-5 md:gap-10",children:[e.jsx("button",{className:"bg-blue-500 w-20 text-white text-xs rounded-md p-2",onClick:()=>t(!0),children:"Register"}),e.jsx("button",{className:"bg-white w-20 text-xs rounded-md p-2",onClick:()=>s(!0),children:"Login"})]})]})]}),e.jsx("div",{children:e.jsx(D,{data:u})}),e.jsxs("div",{className:"relative z-40 -mt-10 mb-10 bg-white",children:[e.jsx("h1",{className:"font-bold mx-5 md:mx-20 text-sm md:text-2xl",children:"Banyak Dipinjam"}),e.jsx(w,{data:l})]}),e.jsxs("div",{className:"mx-5 md:mx-20 z-30 relative",children:[e.jsx("h1",{className:"font-bold mx-5 md:mx-20 text-sm md:text-2xl",children:"Rekomendasi"}),e.jsx(f,{slides:d})]}),e.jsxs("div",{className:"mb-10 bg-blue-200 pt-12 pb-10",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h1",{className:"font-bold mx-5 md:mx-20 text-sm md:text-2xl",children:"Karya Ilmiah"}),e.jsxs("div",{className:"mr-5 text-sm md:mr-20 flex items-center cursor-pointer",onClick:()=>s(!0),children:["Lebih banyak",e.jsx("span",{className:"ml-3",children:e.jsx("img",{src:"/arrow.png",alt:"",className:"w-5 h-5 rotate-90"})})]})]}),e.jsx(w,{data:n})]}),e.jsx("div",{className:"mx-5 md:mx-20 z-30 relative",children:e.jsx(f,{slides:i})}),e.jsxs("div",{className:"mb-10 bg-orange-200 pt-12 pb-10",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h1",{className:"font-bold mx-5 md:mx-20 text-sm md:text-2xl",children:"Karya Non-Ilmiah"}),e.jsxs("div",{className:"mr-5 text-sm md:mr-20 flex items-center cursor-pointer",onClick:()=>s(!0),children:["Lebih banyak",e.jsx("span",{className:"ml-3",children:e.jsx("img",{src:"/arrow.png",alt:"",className:"w-5 h-5 rotate-90"})})]})]}),e.jsx(w,{data:p})]}),e.jsx("div",{className:"mx-5 md:mx-20 z-30 relative",children:e.jsx(f,{slides:o})}),e.jsxs("div",{className:"mb-10 bg-teal-200 pt-12 pb-10",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h1",{className:"font-bold mx-5 md:mx-20 text-sm md:text-2xl",children:"Ekonomi dan Bisnis"}),e.jsxs("div",{className:"mr-5 text-sm md:mr-20 flex items-center cursor-pointer",onClick:()=>s(!0),children:["Lebih banyak",e.jsx("span",{className:"ml-3",children:e.jsx("img",{src:"/arrow.png",alt:"",className:"w-5 h-5 rotate-90"})})]})]}),e.jsx(w,{data:c})]}),e.jsx("div",{className:"mx-5 md:mx-20 z-30 relative",children:e.jsx(f,{slides:h})}),e.jsxs("div",{className:"relative w-full",children:[e.jsx("img",{src:"/footer.jpg",alt:"",className:"w-full h-[500px] object-cover"}),e.jsxs("div",{className:"absolute top-[25%] md:top-[45%] left-[27%] md:left-[45%] z-30",children:[e.jsx("h1",{className:"font-bold text-md md:text-2xl mb-5",children:"Tampilkan lebih banyak"}),e.jsxs("button",{className:"-ml-12 text-white flex items-center font-bold bg-black text-md md:text-2xl p-4 rounded-lg",onClick:()=>t(!0),children:[e.jsx("img",{src:"/invitewhite.png",alt:"",className:"w-7 h-7 md:w-10 md:h-10 mx-3"}),"Daftar anggota sekarang"]})]}),e.jsx("div",{className:"absolute inset-0 -top-1 bg-gradient-to-b from-white to-transparent"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-white to-transparent"})]})]})}function T({bukus:d,banyakDipinjam:l,rekomendasiBuku:i,karyaIlmiah:o,karyaNonIlmiah:h,ekonomi:n,karyaIlmiahSlider:p,karyaNonIlmiahSlider:c,ekonomiSlider:u,slider:g}){return e.jsxs("div",{children:[e.jsx(z,{title:"Selamat Datang"}),e.jsx(E,{slider:g,karyaIlmiahSlider:p,karyaNonIlmiahSlider:c,ekonomiSlider:u,karyaIlmiah:o,karyaNonIlmiah:h,ekonomi:n,data:i,bukuBanyakDipijnam:l})]})}export{T as default};
