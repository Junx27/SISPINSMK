import{r as l,j as e,b as c}from"./app-DVTEHDja.js";import{u as x}from"./index-BqUHl1JM.js";import{d as p}from"./index-D2pZPc5z.js";import{u as b}from"./Url-Bx3CnFKe.js";import{P as h}from"./PopOver-DfInlYEL.js";function w({id:o}){const[u,i]=l.useState(!1),{data:r,setData:n,post:g,processing:d,errors:a,reset:f}=x({nama:"",email:"",kontak:"",gender:"",status:"",foto_profil:null});l.useState(),l.useEffect(()=>{(async()=>{try{const s=await axios.get(`/admin/user/${o}`);n({nama:s.data.nama,email:s.data.email,kontak:s.data.kontak,gender:s.data.gender,status:s.data.status,foto_profil:s.data.foto_profil})}catch(s){console.error(s)}})()},[o]);const m=t=>{t.preventDefault(),i(!0),p.Inertia.put(`/admin/user-update/${o}`,r)};return e.jsxs("div",{children:[u&&e.jsx(h,{children:e.jsxs("div",{className:"bg-white p-5 rounded-md w-64 h-32",children:[e.jsx("p",{className:"text-center text-xs",children:"Data berhasil dirubah"}),e.jsx("div",{className:"flex justify-center mt-5 cursor-pointer",onClick:()=>window.location.reload(),children:e.jsx("button",{className:"bg-blue-500 text-white rounded-md w-32 p-2",children:"ok"})})]})}),e.jsx("a",{href:`/admin/user-foto/${o}`,children:e.jsx("img",{src:b+r.foto_profil,alt:"Profile",className:"w-32 h-32 mx-auto rounded-full"})}),e.jsxs("form",{className:"mt-5 text-xs mx-5 flex flex-col gap-3 pb-10",onSubmit:m,encType:"multipart/form-data",children:[e.jsx("p",{className:"font-bold",children:"Nama"}),e.jsx("input",{type:"text",name:"nama",className:"text-xs bg-blue-50 hover:bg-blue-100 cursor-pointer rounded-sm outline-none border-0",value:r.nama,onChange:t=>n("nama",t.target.value)}),a.nama&&e.jsx("div",{className:"text-red-500",children:a.nama}),e.jsx("p",{className:"font-bold",children:"Email"}),e.jsx("input",{type:"email",name:"email",className:"text-xs bg-blue-50 hover:bg-blue-100 cursor-pointer rounded-sm outline-none border-0",value:r.email,onChange:t=>n("email",t.target.value)}),a.email&&e.jsx("div",{className:"text-red-500",children:a.email}),e.jsx("p",{className:"font-bold",children:"Kontak"}),e.jsx("input",{type:"text",name:"kontak",className:"text-xs bg-blue-50 hover:bg-blue-100 cursor-pointer rounded-sm outline-none border-0",value:r.kontak,onChange:t=>n("kontak",t.target.value)}),a.kontak&&e.jsx("div",{className:"text-red-500",children:a.kontak}),e.jsx("p",{className:"font-bold",children:"Gender"}),e.jsx("input",{type:"text",name:"gender",className:"text-xs bg-blue-50 hover:bg-blue-100 cursor-pointer rounded-sm outline-none border-0",value:r.gender,onChange:t=>n("gender",t.target.value)}),a.gender&&e.jsx("div",{className:"text-red-500",children:a.gender}),e.jsx("p",{className:"font-bold",children:"Status"}),e.jsx("input",{type:"text",name:"status_user",className:"text-xs bg-blue-50 hover:bg-blue-100 cursor-pointer rounded-sm outline-none border-0",value:r.status,onChange:t=>n("status",t.target.value)}),a.status_user&&e.jsx("div",{className:"text-red-500",children:a.status_user}),e.jsx("button",{type:"submit",className:"bg-blue-500 text-white mt-5 rounded-md text-xs p-2",disabled:d,children:d?"Saving...":"Simpan perubahan"}),e.jsx(c,{href:"/logout",method:"post",className:"block md:hidden bg-black text-white mt-2 rounded-md text-xs p-2 text-center",children:"Logout"})]})]})}export{w as E};
